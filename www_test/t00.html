<!DOCTYPE html>
<html>
<head>
<title>test 00</title>

<script type="text/javascript">

function areaBorder(ctx, bgCol, strokeCol) {
	bgCol = bgCol || "rgb(255,255,255)";
	strokeCol = strokeCol || "rgb(255,0,0)";
	var dx = ctx.canvas.width;
	var dy = ctx.canvas.height;
	ctx.fillStyle = bgCol;
	ctx.fillRect(0,0,dx,dy);

	ctx.strokeStyle = strokeCol;
	ctx.strokeRect(0.5, 0.5, dx - 0.5, dy - 0.5);
}

// returns dx,dy position of the button
function btn00(ctx, txt, txtCol, borderCol, bgCol, x, y) {
	ctx.textBaseline = "top";
	var dimTxt = ctx.measureText(txt);
	var dx = dimTxt.width;
	var dy = 26;
	var rectDx = dx + 8 * 2;
	var rectDy = dy + 4 * 2;

	ctx.fillStyle = bgCol;
	ctx.fillRect(x, y, rectDx, rectDy);

	ctx.strokeStyle = borderCol;
	ctx.strokeRect(x, y, rectDx, rectDy);

	var txtX = x + 8;
	var txtY = y + 4;
	ctx.fillStyle = txtCol;
	ctx.fillText(txt, txtX, txtY);
}

// reverse engineering colors from http://mmarfil.com/palo/
function drawUIKit() {
	var ctx = document.getElementById("t00").getContext('2d');
	ctx.font = "16pt Arial";

	var txtCol = "#737373"; // #737373";
	var borderCol = "#8f8f8f";
	var bgCol1 = "#efefef";
	var bgCol2 = "#dadada";
	var gr = ctx.createLinearGradient(0,0,0,10);
	gr.addColorStop(0, bgCol1);
	gr.addColorStop(1, bgCol2);

	btn00(ctx, "Button", txtCol, borderCol, gr, 10, 10);
}

function draw00() {
	var ctx = document.getElementById("t00").getContext('2d');
	areaBorder(ctx);

	//ctx.fillStyle = "rgb(200,0,0)";
	//ctx.fillRect(10,10,55,50);

	//ctx.strokeStyle = "rgb(0,255,0)";
	//ctx.translate(50,0);
	ctx.beginPath();

	ctx.shadowOffsetX = 0.0;
	ctx.shadowOffsetY = 4.0;
	ctx.shadowBlur = 12.0;
	ctx.shadowColor = "rgba(0,0,0,0.9)";

	ctx.arc(128,128,100,0,Math.PI*2,true);
	ctx.fillStyle = "rgba(12,12,12,1.0)";
	ctx.fill();

	//var lg1 = ctx.createLinearGradient();
}

function draw01() {
	var ctx = document.getElementById("t01").getContext('2d');
	//border(ctx, "rgb(0,255,0)");
	border(ctx);

	var x = 20; var y = 10;
	var dx = 80; var dy = 40;

	var gr = ctx.createLinearGradient(dx/2, 0, dx/2, dy);
    gr.addColorStop(0.0, "rgba(255, 0, 0, 0.4)");
    gr.addColorStop(1.0, "rgba(255, 0, 0, 0.1)");

    ctx.fillStyle = gr;
    ctx.fillRect(x, y, dx, dy);
}

function init() {
	//draw00();
	//draw01();
	drawUIKit();
}
</script>

</head>

<body onload="init();">

<p>Canvas drawing test trying to replicate <a href="http://cocoawithlove.com/2011/01/advanced-drawing-using-appkit.html">this Cocoa code</a>.</p>

<canvas id="t00" width="256" height="256"></canvas>&nbsp;
<canvas id="t01" width="256" height="256"></canvas>

</body>

</html>